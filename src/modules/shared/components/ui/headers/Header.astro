---
import { Icon } from 'astro-icon/components'

---

<header
  id="header"
  class:list={[
    'w-full',
    'flex items-center justify-between px-6 py-3',
    'shadow-xl',
    'md:flex-row md:justify-between md:items-center md:py-2 md:px-8 lg:px-12 xl:px-32',
  ]}
>
  <section id="navbar-logo" class="md:py-0">
    <slot name="left" />
  </section>
  <section
    id="navbar-menu"
    class="hidden md:flex md:pt-0"
  >
    <slot name="right" />
  </section>
  <section
    id="navbar-menu-button"
    class="md:hidden md:py-0"
  >
    <div>
      <button
        class="cursor-pointer"
        id="open-menu-button"
      >
        <Icon
          name="mdi:menu"
          class="w-6 h-6"
        />
      </button>
    </div>
  </section>
</header>
<script>
const openMenuButton = document.getElementById( 'open-menu-button' ) as HTMLButtonElement

openMenuButton.addEventListener( 'click', () => {
  const navbarMenu = document.getElementById( 'navbar-menu' ) as HTMLElement
  navbarMenu.classList.toggle( 'hidden' )
  navbarMenu.classList.add( 'pt-12' )

  const header = document.getElementById( 'header' ) as HTMLElement
  header.classList.toggle( 'items-center' )

  const navbarMenuButton = document.getElementById( 'navbar-menu-button' ) as HTMLElement
  navbarMenuButton.classList.add( 'py-2' )

  const navbarLogo = document.getElementById( 'navbar-logo' ) as HTMLElement
  navbarLogo.classList.add( 'py-1' )
} )

</script>
